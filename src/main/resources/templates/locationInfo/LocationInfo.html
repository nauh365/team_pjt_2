<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>자전거 대여소 정보</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
      var pop;

      function goPopup() {
          pop = window.open("/public-bicycle/jusoPopup", "pop", "width=570, height=420, scrollbars=yes");
      }

      function jusoCallBack(roadFullAddr, roadAddrPart1) {
          console.log("도로명 주소: " + roadAddrPart1);
          console.log("전체 주소: " + roadFullAddr);
          document.getElementById('roadFullAddr').value = roadFullAddr;
          document.getElementById('roadAddrPart1').value = roadAddrPart1;
          document.getElementById('addressForm').submit();
      }
  </script>
</head>
<body>
<h1>도로명 주소 검색</h1>
<button onclick="goPopup();">🔎 도로명주소 검색</button>
<form id="addressForm" action="/public-bicycle" method="post">
  <input type="hidden" id="roadFullAddr" name="roadFullAddr">
  <input type="hidden" id="roadAddrPart1" name="roadAddrPart1">
</form>

<h1>도로명 주소 테스트 결과</h1>
<div>
  <p>전체 주소: <span th:text="${roadFullAddr}"></span></p>
  <p>도로명 주소: <span th:text="${roadAddrPart1}"></span></p>
  <p>도로명 주소: <span th:text="${doroJuso}"></span></p>
</div>

<div id="resultDiv">
  <h1>자전거 대여소 정보</h1>
  <div>
    <ul id="results1"></ul>
  </div>

  <h1>대여 가능 자전거 정보</h1>
  <div>
    <ul id="results2"></ul>
  </div>
</div>
</body>
</html>