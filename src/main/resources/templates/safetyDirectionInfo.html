<!DOCTYPE html>
<html lang="en">
<head>
  <th:block th:replace="~{common/header :: headerFragment}"></th:block>
  <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=kp0utn2vxk"></script>
  <script src="/js/SafetyNaverMap.js"></script>
</head>

<body>
<div class="wrapper">
  <th:block th:replace="~{common/sidebar :: sidebarFragment}"></th:block>

  <div class="main">
    <th:block th:replace="~{common/navbar :: navbarFragment}"></th:block>
    <main class="content">
      <div class="container mt-4">
        <h3>위험 지역 탐색</h3>
        <p>현재 위치를 기준으로 <strong style="color: #80b3ff">자전거 사고다발지역</strong>과
          <strong style="color: #80b3ff">스쿨존 사고다발지역</strong>을 표시합니다.
          <span class="small-text">(시/군/구 기준)</span>
        </p>
        <div id="map" style="width:100%;height:400px;"></div>
        <div class="search-container mt-3 mb-3">
          <div class="input-group w-50">
            <div style="width: 50%;">
            <input id="search-input" class="form-control rounded-pill" type="text"
                   placeholder="현재 위치를 입력하세요.">
            </div> &nbsp;
            <div class="input-group-append">
              <button id="find-route-to-address-btn" class="btn btn-primary rounded-pill" type="button">
                <span id="spinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
                <span id="button-text">현재 위치 이동</span>
              </button>
            </div>
          </div>
          <small id="input-help-text" class="form-text text-muted">
            &nbsp; 예시: "강서구 화곡동" 또는 "화곡동"
          </small>
        </div>
      </div>
    </main>
    <th:block th:replace="~{common/footer :: footerFragment}"></th:block>
  </div>
</div>

<script src="/js/app.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function(){
        let map = initMap();
        setupEventListeners(map);
    });
</script>

</body>
</html>