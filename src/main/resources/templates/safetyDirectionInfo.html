<!DOCTYPE html>
<html lang="en">
<head>
  <th:block th:replace="~{common/header :: headerFragment}"></th:block>
  <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=kp0utn2vxk"></script>
  <script src="/js/SafetyNaverMap.js"></script>
</head>

<body>
<div class="wrapper">
  <th:block th:replace="~{common/sidebar :: sidebarFragment}"></th:block>

  <div class="main">
    <th:block th:replace="~{common/navbar :: navbarFragment}"></th:block>
    <main class="content">
      <div class="container mt-4">
        <h3>안전 지역 안내</h3>
        <p>현재 위치를 기준으로 <strong style="color: #80b3ff">자전거 사고다발지역</strong>과
          <strong style="color: #80b3ff">스쿨존 사고다발지역</strong>을 표시합니다.
          <span class="small-text">(시/군/구 기준)</span>
        </p>
        <div id="map" style="width:100%;height:400px;"></div>
        <div class="search-container mb-3">
          <br>
          <div class="input-group mb-3 w-50">
            <input id="search-input" class="form-control" type="text"
                   placeholder="현재 위치를 지번, 도로명로 입력해주세요.(예. 잠실3동)">
            &nbsp;&nbsp;&nbsp;
            <div class="input-group-append">
              <button id="find-route-to-address-btn" class="btn btn-primary" type="button">현재 위치 이동</button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <th:block th:replace="~{common/footer :: footerFragment}"></th:block>
  </div>
</div>

<script src="/js/app.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function(){
        let map = initMap();
        setupEventListeners(map);
    });
</script>

</body>
</html>